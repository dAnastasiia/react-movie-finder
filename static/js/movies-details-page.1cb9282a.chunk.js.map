{"version":3,"sources":["services/movies-api.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Cast/Cast.js","components/Reviews/Reviews.js","views/MovieDetailsPage/MovieDetailsPage.js"],"names":["api","fetchTrending","axios","get","then","res","data","results","fetchMovies","searchQuery","fetchMovieById","id","fetchMovieCast","fetchMovieReview","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Cast","cast","this","props","shouldRenderCast","className","map","profile_path","name","character","src","alt","width","Component","Reviews","reviews","shouldRenderReviews","author","content","MovieDetailsPage","state","poster","title","overview","genres","vote","handleGoBack","location","history","from","routes","home","a","movieId","match","params","poster_path","vote_average","setState","url","type","onClick","join","to","pathname","path","render"],"mappings":"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","file":"static/js/movies-details-page.1cb9282a.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst fetchTrending = () => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=42c4fa9c05708253e8c2f9a05f447e85`,\r\n    )\r\n    .then(res => res.data.results);\r\n};\r\n\r\nconst fetchMovies = searchQuery => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/search/movie?api_key=42c4fa9c05708253e8c2f9a05f447e85&query=${searchQuery}`,\r\n    )\r\n    .then(res => res.data.results);\r\n};\r\n\r\nconst fetchMovieById = id => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/movie/${id}?api_key=42c4fa9c05708253e8c2f9a05f447e85`,\r\n    )\r\n    .then(res => res.data);\r\n};\r\n\r\nconst fetchMovieCast = id => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/movie/${id}/credits?api_key=42c4fa9c05708253e8c2f9a05f447e85`,\r\n    )\r\n    .then(res => res.data);\r\n};\r\n\r\nconst fetchMovieReview = id => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=42c4fa9c05708253e8c2f9a05f447e85`,\r\n    )\r\n    .then(res => res.data.results);\r\n};\r\n\r\nconst api = {\r\n  fetchTrending,\r\n  fetchMovies,\r\n  fetchMovieById,\r\n  fetchMovieCast,\r\n  fetchMovieReview,\r\n};\r\n\r\nexport default api;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Cast extends Component {\r\n  static propTypes = {\r\n    cast: PropTypes.array.isRequired,\r\n  };\r\n\r\n  render() {\r\n    const { cast } = this.props;\r\n\r\n    const shouldRenderCast = cast.length;\r\n\r\n    return (\r\n      <>\r\n        {shouldRenderCast > 0 ? (\r\n          <ul className=\"cast\">\r\n            {cast.map(({ id, profile_path, name, character }) => (\r\n              <li key={id} className=\"cast-item\">\r\n                <img\r\n                  src={`https://image.tmdb.org/t/p/w500${profile_path}`}\r\n                  alt={name}\r\n                  width=\"120\"\r\n                />\r\n                <p className=\"cast-name\">{name}</p>\r\n                <p>Character: {character}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <h3 className=\"cast\">No actors</h3>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Reviews extends Component {\r\n  static propTypes = {\r\n    reviews: PropTypes.array.isRequired,\r\n  };\r\n\r\n  render() {\r\n    const { reviews } = this.props;\r\n    const shouldRenderReviews = reviews.length;\r\n\r\n    return (\r\n      <>\r\n        {shouldRenderReviews > 0 ? (\r\n          <ul className=\"rewiews\">\r\n            {reviews.map(({ id, author, content }) => (\r\n              <li key={id}>\r\n                <p className=\"review-author\">Author: {author}</p>\r\n                <p className=\"review-content\">{content}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <h3 className=\"rewiews\">No reviews yet</h3>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { NavLink, Route } from 'react-router-dom';\r\nimport api from '../../services/movies-api';\r\nimport routes from '../../routes';\r\n\r\nimport Cast from '../../components/Cast';\r\nimport Reviews from '../../components/Reviews';\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    poster: null,\r\n    title: null,\r\n    overview: null,\r\n    genres: [],\r\n    vote: null,\r\n\r\n    cast: [],\r\n    reviews: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { movieId } = this.props.match.params;\r\n\r\n    const {\r\n      poster_path,\r\n      title,\r\n      overview,\r\n      genres,\r\n      vote_average,\r\n    } = await api.fetchMovieById(movieId);\r\n\r\n    this.setState({\r\n      poster: poster_path,\r\n      title: title,\r\n      overview: overview,\r\n      genres: [...genres],\r\n      vote: vote_average,\r\n    });\r\n\r\n    const { cast } = await api.fetchMovieCast(movieId);\r\n    this.setState({ cast: [...cast] });\r\n\r\n    const reviews = await api.fetchMovieReview(movieId);\r\n    this.setState({ reviews: [...reviews] });\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    const { location, history } = this.props;\r\n\r\n    history.push(location?.state?.from || routes.home);\r\n  };\r\n\r\n  render() {\r\n    const { poster, title, overview, genres, vote, cast, reviews } = this.state;\r\n    const { url } = this.props.match;\r\n\r\n    const { from } = this.props.location.state;\r\n\r\n    return (\r\n      <>\r\n        <button\r\n          type=\"button\"\r\n          onClick={this.handleGoBack}\r\n          className=\"go-back-button\"\r\n        >\r\n          Go back\r\n        </button>\r\n\r\n        <div className=\"movie\">\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w500${poster}`}\r\n            alt={title}\r\n            className=\"poster\"\r\n          />\r\n\r\n          <div className=\"movie-info\">\r\n            <h1 className=\"movie-info__title\">{title}</h1>\r\n            <p>User score: {vote}</p>\r\n\r\n            <h3 className=\"movie-info__title\">Overview</h3>\r\n            <p>{overview}</p>\r\n\r\n            <h3 className=\"movie-info__title\">Genres</h3>\r\n            <p>{genres.map(({ name }) => name).join(' ')}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"movie-add-info\">\r\n          <h2 className=\"movie-info__title\">Additional information</h2>\r\n          <ul className=\"movie-info-list\">\r\n            <li>\r\n              <NavLink\r\n                to={{\r\n                  pathname: `${url}/credits`,\r\n                  state: {\r\n                    from: from,\r\n                  },\r\n                }}\r\n                className=\"movie-info-item\"\r\n              >\r\n                Cast\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink\r\n                to={{\r\n                  pathname: `${url}/rewiews`,\r\n                  state: {\r\n                    from: from,\r\n                  },\r\n                }}\r\n                className=\"movie-info-item\"\r\n              >\r\n                Reviews\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <Route\r\n          path={`${url}/credits`}\r\n          render={props => <Cast {...props} cast={cast} />}\r\n        />\r\n\r\n        <Route\r\n          path={`${url}/reviews`}\r\n          render={props => <Reviews {...props} reviews={reviews} />}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}